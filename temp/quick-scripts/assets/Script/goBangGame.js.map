{"version":3,"sources":["goBangGame.js"],"names":["cc","Class","extends","Component","properties","blcakPrefab","Prefab","withePrefab","gameBg","Sprite","gobangBg","moveChess","start","console","log","initMap","moveChessToMap","chessMap","i","j","pos","x","y","push","setChessMap","length","pos_1","v2","fuzzyEquals","PrefabType","chess","instantiate","node","addChild","position","on","Node","EventType","TOUCH_START","event","touchPos","convertToNodeSpaceAR","getLocation","bind","TOUCH_MOVE","TOUCH_END"],"mappings":"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","file":"goBangGame.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        blcakPrefab:cc.Prefab,\r\n        withePrefab:cc.Prefab,\r\n        gameBg:cc.Sprite,\r\n        gobangBg:cc.Sprite,\r\n        moveChess:cc.Sprite,\r\n\r\n    },\r\n    start () {\r\n        console.log(this.moveChess)\r\n        \r\n        this.initMap()\r\n        this.moveChessToMap()\r\n        \r\n\r\n    },\r\n    initMap:function(){\r\n\r\n        //(-265,-272), (-228,-272)\r\n        this.chessMap = []\r\n        for (let i = 1;i<=15;i++){\r\n            for(let j = 1; j<=15; j++){\r\n                let pos = {\r\n                    x:-265+i*35.4,\r\n                    y:-272+j*35.4\r\n                }\r\n                this.chessMap.push({\r\n                    pos:pos\r\n                });\r\n                console.log(\"j = \"+j+\"i\"+i)\r\n            }\r\n        }\r\n        console.log( this.chessMap)\r\n        \r\n    },\r\n    setChessMap:function(pos) {\r\n        for (let i = 0;i<this.chessMap.length; i++){\r\n            let pos_1 = cc.v2(this.chessMap[i].x, this.chessMap[i].y) \r\n            if (pos_1.fuzzyEquals(pos, 15)){\r\n                let PrefabType = this.blcakPrefab\r\n                let chess = cc.instantiate(PrefabType)\r\n                this.gobangBg.node.addChild(chess)\r\n                chess.position = pos_1\r\n                console.log(\"pos_1\"+pos_1)\r\n            }\r\n        }\r\n    },\r\n    moveChessToMap:function(){\r\n        this.node.on(cc.Node.EventType.TOUCH_START, function(event){     \r\n            let touchPos =  this.node.convertToNodeSpaceAR(event.getLocation())\r\n            this.moveChess.node.position = touchPos\r\n        }.bind(this), this.node);\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, function(event){\r\n            let touchPos =  this.node.convertToNodeSpaceAR(event.getLocation())\r\n            this.moveChess.node.position = touchPos\r\n        }.bind(this), this.node);\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_END, function(event){\r\n            let touchPos =  this.node.convertToNodeSpaceAR(event.getLocation())\r\n            this.moveChess.node.position = touchPos\r\n            this.setChessMap(touchPos)\r\n            console.log(\"moveChess pos =\"+this.moveChess.node.position);\r\n        }.bind(this), this.node)\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}